+function(n){"use strict";function i(n,t){var u,i,r,f;for(u="",t=String(t).replace(/\D/g,""),i=0,r=0;i<n.length;i=i+1)/\d/g.test(n.charAt(i))?n.charAt(i)===t.charAt(r)?(u+=t.charAt(r),r=r+1):u+=n.charAt(i):n.charAt(i)!=="d"?(t.charAt(r)!==""||n.charAt(i)==="+")&&(u+=n.charAt(i)):t.charAt(r)===""?u+="":(u+=t.charAt(r),r=r+1);return f=n.charAt(u.length),f!=="d"&&(u+=f),u}function u(n){var t=0,i;return document.selection?(n.focus(),i=document.selection.createRange(),i.moveStart("character",-n.value.length),t=i.text.length):(n.selectionStart||n.selectionStart===0)&&(t=n.selectionStart),t}function f(n,t){var i;document.selection?(n.focus(),i=document.selection.createRange(),i.moveStart("character",-n.value.length),i.moveStart("character",t),i.moveEnd("character",0),i.select()):(n.selectionStart||n.selectionStart===0)&&(n.selectionStart=t,n.selectionEnd=t,n.focus())}var t=function(t,i){this.options=n.extend({},n.fn.bfhphone.defaults,i);this.$element=n(t);(this.$element.is('input[type="text"]')||this.$element.is('input[type="tel"]'))&&this.addFormatter();this.$element.is("span")&&this.displayFormatter()},r;t.prototype={constructor:t,addFormatter:function(){var i;if(this.options.country!=="")if(i=n(document).find("#"+this.options.country),i.length!==0){this.options.format=BFHPhoneFormatList[i.val()];i.on("change",{phone:this},this.changeCountry)}else this.options.format=BFHPhoneFormatList[this.options.country];this.$element.on("keyup.bfhphone.data-api",t.prototype.change);this.loadFormatter()},loadFormatter:function(){var n;n=i(this.options.format,this.$element.val());this.$element.val(n)},displayFormatter:function(){var n;this.options.country!==""&&(this.options.format=BFHPhoneFormatList[this.options.country]);n=i(this.options.format,this.options.number);this.$element.html(n)},changeCountry:function(t){var r,i;r=n(this);i=t.data.phone;i.$element.val(String(i.$element.val()).replace(/\+\d*/g,""));i.options.format=BFHPhoneFormatList[r.val()];i.loadFormatter()},change:function(t){var r,e,o,s;return(r=n(this).data("bfhphone"),r.$element.is(".disabled")||r.$element.attr("disabled")!==undefined)?!0:(e=u(r.$element[0]),o=!1,e===r.$element.val().length&&(o=!0),t.which===8&&r.options.format.charAt(r.$element.val().length)!=="d"&&r.$element.val(String(r.$element.val()).substring(0,r.$element.val().length-1)),s=i(r.options.format,r.$element.val()),s===r.$element.val())?!0:(r.$element.val(s),o&&(e=r.$element.val().length),f(r.$element[0],e),!0)}};r=n.fn.bfhphone;n.fn.bfhphone=function(i){return this.each(function(){var r,u,f;r=n(this);u=r.data("bfhphone");f=typeof i=="object"&&i;u||r.data("bfhphone",u=new t(this,f));typeof i=="string"&&u[i].call(r)})};n.fn.bfhphone.Constructor=t;n.fn.bfhphone.defaults={format:"",number:"",country:""};n.fn.bfhphone.noConflict=function(){return n.fn.bfhphone=r,this};n(document).ready(function(){n('form input[type="text"].bfh-phone, form input[type="tel"].bfh-phone, span.bfh-phone').each(function(){var t;t=n(this);t.bfhphone(t.data())})})}(window.jQuery);